(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ebfb791"],{"2e12":function(t,e,c){"use strict";c("499a")},"499a":function(t,e,c){},"59fc":function(t,e,c){"use strict";c.r(e);var a=c("7a23"),r={key:0},n={class:"modal fade show",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel",style:{display:"block"},"aria-modal":"true"},o={class:"modal-dialog modal-center"},s={class:"modal-content"},l={class:"modal-header"},u=Object(a["h"])("h5",{class:"modal-title",id:"staticBackdropLabel"},"Modal title",-1),d=Object(a["h"])("span",{"aria-hidden":"true"},"Ã—",-1),i={class:"modal-body"},b={class:"modal-footer"},O=Object(a["h"])("button",{class:"btn btn-primary d-none"}," Comprar ",-1),j=Object(a["h"])("div",{class:"modal-backdrop fade show"},null,-1),p={class:"container-fluid"},h={class:"d-sm-flex align-items-center justify-content-between mb-4"},f=Object(a["h"])("h1",{class:"h3 mb-0 text-gray-800"},"Productos",-1),m=Object(a["g"])("Nuevo"),v={class:"row"},g={class:"col-lg-12"},k={class:"table-responsive scrollbar-light-blue"},y={class:"table table-striped table-bordered text-center",id:"table"},w={class:"thead-dark"},C=Object(a["h"])("th",null,"CODIGO",-1),x=Object(a["h"])("th",null,"PRODUCTO",-1),I=Object(a["h"])("th",null,"STOCK",-1),P=Object(a["h"])("th",null,"ubicacion",-1),_={key:0};function B(t,e,c,B,L,M){var E=Object(a["B"])("router-link"),N=Object(a["B"])("Lista");return Object(a["s"])(),Object(a["e"])("div",null,[B.modalImg?(Object(a["s"])(),Object(a["e"])("div",r,[Object(a["h"])("div",n,[Object(a["h"])("div",o,[Object(a["h"])("div",s,[Object(a["h"])("div",l,[u,Object(a["h"])("button",{onClick:e[1]||(e[1]=function(){return B.cerrarModal&&B.cerrarModal.apply(B,arguments)}),type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},[d])]),Object(a["h"])("div",i,[Object(a["h"])("img",{class:"rounded mx-auto d-block img-thumbnail",src:B.image,alt:"cdd"},null,8,["src"])]),Object(a["h"])("div",b,[Object(a["h"])("button",{onClick:e[2]||(e[2]=function(){return B.cerrarModal&&B.cerrarModal.apply(B,arguments)}),class:"btn btn-secondary","data-dismiss":"modal"}," Cerrar "),O])])])]),j])):Object(a["f"])("",!0),Object(a["h"])("div",p,[Object(a["h"])("div",h,[f,B.usuario.rol.grado<=1?(Object(a["s"])(),Object(a["e"])(E,{key:0,to:"/manager/productos/add",class:"btn btn-primary mt-2"},{default:Object(a["N"])((function(){return[m]})),_:1})):Object(a["f"])("",!0)]),Object(a["h"])("div",v,[Object(a["h"])("div",g,[Object(a["h"])("div",k,[Object(a["h"])("table",y,[Object(a["h"])("thead",w,[Object(a["h"])("tr",null,[C,x,I,P,B.usuario.rol.grado<=3?(Object(a["s"])(),Object(a["e"])("th",_,"ACCIONES")):Object(a["f"])("",!0)])]),Object(a["h"])("tbody",null,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(B.productos,(function(t){return Object(a["O"])((Object(a["s"])(),Object(a["e"])(N,{access:B.usuario.rol.grado,key:t,producto:t},null,8,["access","producto"])),[[a["K"],-1!=t.codigo.toLowerCase().indexOf(c.param.toLowerCase())||-1!=t.nombre.toLowerCase().indexOf(c.param.toLowerCase())]])})),128))])])])])])])])}var L=c("5c40"),M=c("5502"),E={class:"d-none"},N=Object(a["h"])("i",{class:"fas fa-eye"},null,-1),R=Object(a["h"])("i",{class:"fas fa-audio-description"},null,-1),K=Object(a["h"])("i",{class:"fas fa-edit"},null,-1),D={key:2,class:"confirmar d-inline"},J=Object(a["h"])("i",{class:"fas fa-trash-alt"},null,-1),S=Object(a["h"])("i",{class:"fas fa-check"},null,-1);function T(t,e,c,r,n,o){var s=Object(a["B"])("Popper"),l=Object(a["B"])("router-link");return Object(a["s"])(),Object(a["e"])("tr",null,[Object(a["h"])("td",null,Object(a["E"])(c.producto.codigo),1),Object(a["h"])("td",null,Object(a["E"])(c.producto.descripcion),1),Object(a["h"])("td",E,[Object(a["h"])(s,{class:"dark-popper",arrow:"",hover:"",placement:"right",content:t.numeralFormat(c.producto.precio*r.dolar)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["h"])("div",null,Object(a["E"])(c.producto.precio),1)]})),_:1},8,["content"])]),Object(a["h"])("td",null,Object(a["E"])(c.producto.cantidad),1),Object(a["h"])("td",null,Object(a["E"])(c.producto.ubicacion),1),Object(a["h"])("td",null,[Object(a["h"])("div",{target:"_blank",onClick:e[1]||(e[1]=function(t){return r.getImagen(c.producto.img)}),class:"btn btn-primary ml-2"},[N]),c.access<=1?(Object(a["s"])(),Object(a["e"])(l,{key:0,to:"/productos/add/cantidad?"+c.producto._id,class:"btn btn-primary ml-2"},{default:Object(a["N"])((function(){return[R]})),_:1},8,["to"])):Object(a["f"])("",!0),c.access<=1?(Object(a["s"])(),Object(a["e"])(l,{key:1,to:"/productos/add?"+c.producto._id,class:"btn btn-warning ml-2"},{default:Object(a["N"])((function(){return[K]})),_:1},8,["to"])):Object(a["f"])("",!0),c.access<=1?(Object(a["s"])(),Object(a["e"])("div",D,[Object(a["O"])(Object(a["h"])("button",{onClick:e[2]||(e[2]=function(t){return r.desactivarProducto(c.producto._id)}),class:"btn btn-danger ml-2"},[J],512),[[a["K"],c.producto.status]]),Object(a["O"])(Object(a["h"])("button",{onClick:e[3]||(e[3]=function(t){return r.activarProducto(c.producto._id)}),class:"btn btn-success ml-2"},[S],512),[[a["K"],!c.producto.status]])])):Object(a["f"])("",!0)])])}var z=c("1da1"),A=(c("96cf"),c("99af"),c("98a0")),F=c("bc3a"),G=c.n(F),U=c("a1e9"),q=c("4b43"),H={props:["producto","access"],components:{Popper:q["a"]},setup:function(t){var e=Object(U["k"])(t.producto),c=Object(M["b"])(),a=Object(L["d"])((function(){return c.state.system.info.dolar})),r=Object(L["d"])((function(){return c.state.toask})),n=Object(L["d"])((function(){return c.state.token})),o=Object(L["d"])((function(){return c.state.api}));function s(t){return l.apply(this,arguments)}function l(){return l=Object(z["a"])(regeneratorRuntime.mark((function t(c){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.a.delete("".concat(o.value,"/productos/activar/").concat(c),{headers:{xtoken:n.value}});case 2:a=t.sent,s=a.data,e.value.status=!0,Object(A["a"])(s.value,r.value.warning);case 6:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function u(t){c.dispatch("verImagen",t)}function d(t){return i.apply(this,arguments)}function i(){return i=Object(z["a"])(regeneratorRuntime.mark((function t(c){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,G.a.delete("".concat(o.value,"/productos/").concat(c),{headers:{xtoken:n.value}});case 2:a=t.sent,s=a.data,e.value.status=!1,Object(A["a"])(s.value,r.value.danger);case 6:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}return{activarProducto:s,desactivarProducto:d,dolar:a,getImagen:u}}};H.render=T;var Q=H,V={props:["param"],components:{Lista:Q},setup:function(){function t(t){console.log(t)}function e(){c.dispatch("cerrarModalImg")}var c=Object(M["b"])();c.dispatch("getProductos");var a=Object(L["d"])((function(){return c.state.modalImg})),r=Object(L["d"])((function(){return c.state.img}));c.dispatch("buscar");var n=Object(L["d"])((function(){return c.state.usuario})),o=Object(L["d"])((function(){return c.state.productos}));return{productos:o,usuario:n,modalImg:a,getIMg:t,image:r,cerrarModal:e}}};c("2e12");V.render=B;e["default"]=V}}]);
//# sourceMappingURL=chunk-2ebfb791.68279116.js.map