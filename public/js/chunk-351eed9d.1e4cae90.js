(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-351eed9d","chunk-2d21f315"],{"1f4c":function(t,e,c){"use strict";c.r(e);var a=c("7a23"),n={key:0,class:"container-fluid"},r={class:"text-right"},o=Object(a["h"])("i",{class:"fas fa-user-plus"},null,-1),l=Object(a["g"])(" Nuevo Cliente"),u={class:"row"},i={class:"col-sm-3"},s=Object(a["h"])("h4",{class:""},"Datos del Cliente",-1),d={style:{"font-size":"16px","text-transform":"uppercase",color:"blue"}},b=Object(a["h"])("label",{for:"buscarCliente"},"busqueda de cliente",-1),O={key:0,class:"resultado"},j={multiple:"",class:"custom-select scrollbar-light-blue"},p={class:"col-lg-12"},h=Object(a["h"])("h4",{class:"text-center"},"Datos Venta",-1),f={class:"table-responsive"},v={ref:"table",class:"table table-hover"},m={class:"thead-dark"},g=Object(a["h"])("tr",null,[Object(a["h"])("th",{width:"100px"},"Código"),Object(a["h"])("th",null,"nombre"),Object(a["h"])("th",null,"Stock"),Object(a["h"])("th",null,"Acciones")],-1),k={key:0,class:"resultado2"},C={multiple:"",class:"custom-select scrollbar-light-blue"},y={id:"txt_descripcion"},w={id:"txt_existencia"},V={id:"txt_iva",class:"d-none"},_={id:"txt_precio",class:"textright d-none"},x={id:"txt_precio_total d-none",class:"txtright d-none"},E=Object(a["h"])("tr",null,[Object(a["h"])("th",null,"Código"),Object(a["h"])("th",null,"nombre"),Object(a["h"])("th",null,"cantidad"),Object(a["h"])("th",null,"Acciones")],-1),P={id:"detalle_venta"},A={class:"d-none",id:"detalle_totales"},B=Object(a["h"])("td",{colspan:"6",class:"textright"},"Sub-total",-1),N=Object(a["h"])("td",{colspan:"6",class:"textright"},"iva",-1),L=Object(a["h"])("td",{colspan:"6",class:"textright"},"total a pagar",-1),F={class:"col-lg-12 text-center"},U=Object(a["h"])("label",null,"Acciones",-1),z={class:"form-group"},J=Object(a["h"])("i",{class:"fas fa-save"},null,-1),K=Object(a["g"])(" Generar Venta "),S={key:2},G={class:"modal fade show",id:"staticBackdrop","data-backdrop":"static","data-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel",style:{display:"block"},"aria-modal":"true"},$={class:"modal-dialog modal-center"},q={class:"modal-content"},D={class:"modal-header"},I=Object(a["h"])("h5",{class:"modal-title",id:"staticBackdropLabel"},"Modal title",-1),T=Object(a["h"])("span",{"aria-hidden":"true"},"×",-1),H={class:"modal-body"},M={key:0},R={class:"form-check"},Q=Object(a["h"])("label",{class:"form-check-label",for:"defaultCheck1"}," Reportar venta como prestamo ",-1),W=Object(a["h"])("label",{for:"inputNota"},null,-1),X={key:1,class:"text-center"},Y=Object(a["h"])("p",null,[Object(a["h"])("strong",{class:"mt-4"},"que desea hacer?")],-1),Z=Object(a["h"])("br",null,null,-1),tt={class:"modal-footer"},et=Object(a["h"])("div",{class:"modal-backdrop fade show"},null,-1);function ct(t,e,c,ct,at,nt){var rt=Object(a["B"])("router-link"),ot=Object(a["B"])("Popper"),lt=Object(a["B"])("ListProductos"),ut=Object(a["B"])("NoAccess");return Object(a["s"])(),Object(a["e"])(a["a"],null,[ct.usuario.rol.grado<=2?(Object(a["s"])(),Object(a["e"])("div",n,[Object(a["h"])("div",r,[Object(a["h"])(rt,{to:"/clientes/add",onClick:e[1]||(e[1]=function(t){return ct.sendUrl()}),class:"mt-2 btn btn-primary text-rigth btn_new_cliente d-none"},{default:Object(a["N"])((function(){return[o,l]})),_:1})]),Object(a["h"])("div",u,[Object(a["O"])(Object(a["h"])("div",i,[s,Object(a["O"])(Object(a["h"])("div",null,[Object(a["h"])("h5",d,Object(a["E"])(ct.datosCliente.nombre)+" "+Object(a["E"])(ct.datosCliente.apellido),1),Object(a["h"])("p",null,Object(a["E"])(ct.datosCliente.dni),1)],512),[[a["K"],ct.dataCliente]]),Object(a["O"])(Object(a["h"])("div",null,[b,Object(a["O"])(Object(a["h"])("input",{autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=function(t){return ct.buscarClientes=t}),id:"buscarCliente",type:"text",class:"form-control mb-2"},null,512),[[a["J"],ct.buscarClientes]]),ct.buscarClientes?(Object(a["s"])(),Object(a["e"])("div",O,[Object(a["h"])("select",j,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(ct.clientes,(function(t){return Object(a["O"])((Object(a["s"])(),Object(a["e"])("option",{onClick:function(e){return ct.selectCliente(t)},key:t._id,value:t._id},Object(a["E"])(t.nombre),9,["onClick","value"])),[[a["K"],-1!=t.nombre.toLowerCase().indexOf(ct.buscarClientes.toLowerCase())||-1!=t.dni.toLowerCase().indexOf(ct.buscarClientes.toLowerCase())]])})),128))])])):Object(a["f"])("",!0)],512),[[a["K"],!ct.dataCliente]])],512),[[a["K"],ct.infoCliente]]),Object(a["h"])("div",p,[h,Object(a["h"])("div",f,[Object(a["h"])("table",v,[Object(a["h"])("thead",m,[g,Object(a["h"])("tr",null,[Object(a["h"])("td",null,[Object(a["O"])(Object(a["h"])("input",{autocomplete:"off",type:"text",class:"form-control form-control-md",name:"txt_cod_producto",id:"txt_cod_producto","onUpdate:modelValue":e[3]||(e[3]=function(t){return ct.buscarProducto=t})},null,512),[[a["J"],ct.buscarProducto]]),ct.buscarProducto?(Object(a["s"])(),Object(a["e"])("div",k,[Object(a["h"])("select",C,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(ct.productos,(function(t){return Object(a["O"])((Object(a["s"])(),Object(a["e"])("option",{onClick:function(e){return ct.selectProducto(t)},key:t._id,value:t._id},Object(a["E"])(t.nombre)+"-"+Object(a["E"])(t.codigo),9,["onClick","value"])),[[a["K"],-1!=t.codigo.toLowerCase().indexOf(ct.buscarProducto.toLowerCase())]])})),128))])])):Object(a["f"])("",!0)]),Object(a["h"])("td",y,Object(a["E"])(ct.inputsAgregar.nombre),1),Object(a["h"])("td",w,Object(a["E"])(ct.inputsAgregar.cantidad||0),1),Object(a["h"])("td",V,[Object(a["h"])(ot,{class:"dark-popper d-none",arrow:"",hover:"",placement:"left",content:t.numeralFormat((ct.total-ct.inputsAgregar.precio)*ct.dolar||0)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(t.numeralFormat(ct.total-ct.inputsAgregar.precio,"0,0.0")||0)+"$ ",1)]})),_:1},8,["content"])]),Object(a["h"])("td",_,[Object(a["h"])(ot,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat(ct.inputsAgregar.precio*ct.dolar||0)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(ct.inputsAgregar.precio||0)+"$(+"+Object(a["E"])(ct.inputsAgregar.iva)+"% iva ) ",1)]})),_:1},8,["content"])]),Object(a["h"])("td",x,[Object(a["h"])(ot,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat(ct.total*ct.dolar||0)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(ct.total||0)+"$ ",1)]})),_:1},8,["content"])]),Object(a["h"])("td",null,[ct.inputsAgregar.cantidad?Object(a["O"])((Object(a["s"])(),Object(a["e"])("button",{key:0,onClick:e[4]||(e[4]=function(t){return ct.agregarCarrito()}),id:"add_product_venta",class:"btn btn-dark",disabled:0===ct.inputsAgregar.cantidad}," Agregar ",8,["disabled"])),[[a["K"],ct.cantidad>0]]):Object(a["f"])("",!0)])]),E]),Object(a["h"])("tbody",P,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(ct.productosVenta,(function(t,e){return Object(a["s"])(),Object(a["e"])(lt,{indice:e,key:e,producto:t},null,8,["indice","producto"])})),128))]),Object(a["h"])("tfoot",A,[Object(a["h"])("tr",null,[B,Object(a["h"])("td",null,[Object(a["h"])(ot,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat(ct.totalVenta*ct.dolar,"0,00")+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(ct.totalVenta),1)]})),_:1},8,["content"])])]),Object(a["h"])("tr",null,[N,Object(a["h"])("td",null,[Object(a["h"])(ot,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat(ct.iva*ct.dolar)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(ct.iva),1)]})),_:1},8,["content"])])]),Object(a["h"])("tr",null,[L,Object(a["h"])("td",null,[Object(a["h"])(ot,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat((ct.iva+ct.totalVenta)*ct.dolar)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(ct.iva+ct.totalVenta),1)]})),_:1},8,["content"])])])])],512)]),Object(a["h"])("div",F,[U,Object(a["h"])("div",z,[Object(a["h"])("button",{onClick:e[5]||(e[5]=function(t){return ct.cancelVenta()}),class:"btn btn-danger mr-2"}," Anular "),Object(a["h"])("button",{onClick:e[6]||(e[6]=function(t){return ct.preGuardarCompra()}),class:"btn btn-primary",id:"btn_facturar_venta"},[J,K])])])])])])):(Object(a["s"])(),Object(a["e"])(ut,{key:1})),ct.modalVenta?(Object(a["s"])(),Object(a["e"])("div",S,[Object(a["h"])("div",G,[Object(a["h"])("div",$,[Object(a["h"])("div",q,[Object(a["h"])("div",D,[I,Object(a["h"])("button",{type:"button",class:"close",onClick:e[7]||(e[7]=function(){return ct.newVenta&&ct.newVenta.apply(ct,arguments)}),"data-dismiss":"modal","aria-label":"Close"},[T])]),Object(a["h"])("div",H,[ct.statusVenta?Object(a["f"])("",!0):(Object(a["s"])(),Object(a["e"])("div",M,[Object(a["h"])("div",R,[Object(a["O"])(Object(a["h"])("input",{class:"form-check-input","onUpdate:modelValue":e[8]||(e[8]=function(t){return ct.prestamo=t}),type:"checkbox",id:"defaultCheck1"},null,512),[[a["H"],ct.prestamo]]),Q]),W,Object(a["O"])(Object(a["h"])("input",{"onUpdate:modelValue":e[9]||(e[9]=function(t){return ct.notaVenta=t}),type:"text",id:"inputNota",placeholder:"agregar una nota",class:"form-control"},null,512),[[a["J"],ct.notaVenta]])])),ct.statusVenta?(Object(a["s"])(),Object(a["e"])("div",X,[Y,Z,Object(a["h"])("button",{onClick:e[10]||(e[10]=function(){return ct.newVenta&&ct.newVenta.apply(ct,arguments)}),class:"btn btn-primary mr-2"},"registrar otra venta")])):Object(a["f"])("",!0)]),Object(a["h"])("div",tt,[Object(a["h"])("button",{onClick:e[11]||(e[11]=function(){return ct.newVenta&&ct.newVenta.apply(ct,arguments)}),class:"btn btn-secondary","data-dismiss":"modal"}," Cerrar "),Object(a["h"])("button",{onClick:e[12]||(e[12]=function(t){return ct.guardarCompra()}),class:"btn btn-primary"}," Comprar ")])])])]),et])):Object(a["f"])("",!0)],64)}var at=c("d97a"),nt=c("5502"),rt=c("a1e9"),ot={class:"d-none"},lt=Object(a["h"])("i",{class:"fas fa-trash"},null,-1),ut={class:"d-none"},it={class:"d-none"},st=Object(a["h"])("i",{class:"svg-inline--fa fas fa-trash-alt fa-w-14"},null,-1),dt=Object(a["g"])(" Eliminar ");function bt(t,e,c,n,r,o){var l=Object(a["B"])("Popper");return Object(a["s"])(),Object(a["e"])("tr",null,[Object(a["h"])("th",null,Object(a["E"])(c.producto.codigo),1),Object(a["h"])("th",null,Object(a["E"])(c.producto.productName),1),Object(a["h"])("th",ot,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["z"])(c.producto.imei,(function(t,e){return Object(a["s"])(),Object(a["e"])("div",{class:"form-row align-items-center",key:e},[Object(a["O"])(Object(a["h"])("input",{class:[{"is-invalid":""==n.Producto.imei[e].value},"form-control col-md-9 my-1"],placeholder:"imei","onUpdate:modelValue":function(t){return n.Producto.imei[e].value=t},type:"tel",maxlength:"15"},null,10,["onUpdate:modelValue"]),[[a["J"],n.Producto.imei[e].value,void 0,{number:!0}]]),Object(a["h"])("button",{onClick:function(t){return n.deleteOneItem(e)},class:"btn btn-danger ml-2 col-md-2 my-1"},[lt],8,["onClick"])])})),128))]),Object(a["h"])("th",null,Object(a["E"])(c.producto.cantidad),1),Object(a["h"])("th",ut,[Object(a["h"])(l,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat(c.producto.precio*n.dolar)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(c.producto.precio)+" (+"+Object(a["E"])(c.producto.iva)+"% iva) ",1)]})),_:1},8,["content"])]),Object(a["h"])("th",it,[Object(a["h"])(l,{class:"dark-popper",arrow:"",hover:"",placement:"left",content:t.numeralFormat(n.total*n.dolar)+" Bs"},{default:Object(a["N"])((function(){return[Object(a["g"])(Object(a["E"])(n.total),1)]})),_:1},8,["content"])]),Object(a["h"])("th",null,[Object(a["h"])("button",{onClick:e[1]||(e[1]=function(t){return n.deleteProduct(c.indice)}),class:"btn btn-danger"},[st,dt])])])}c("a434");var Ot=c("5c40"),jt=c("4b43"),pt={props:["producto","indice"],components:{Popper:jt["a"]},setup:function(t){var e=Object(nt["b"])(),c=Object(rt["k"])(t.producto),a=Object(Ot["d"])((function(){return e.state.system.info.dolar})),n=Object(Ot["d"])((function(){var t=c.value,e=t.precio*t.iva/100*t.cantidad,a=t.precio*t.cantidad;return a||(a=0),e||(e=0),a+e}));function r(t){e.dispatch("resProducto",{id:c.value.producto_id,indice:t}),c.value.imei.splice(t,1)}function o(t){e.dispatch("deleteStore",t)}return{total:n,dolar:a,deleteProduct:o,Producto:c,deleteOneItem:r}}};pt.render=bt;var ht=pt,ft=c("98a0"),vt={props:["param"],components:{ListProductos:ht,Popper:jt["a"],NoAccess:at["default"]},setup:function(){var t=Object(nt["b"])();t.dispatch("getProductos"),t.dispatch("buscar"),t.dispatch("getClientes");var e=!1,c=Object(rt["a"])((function(){return t.state.system.info.dolar})),a=Object(rt["k"])(!1),n=Object(rt["k"])(""),r=Object(rt["k"])({}),o=Object(rt["k"])(1),l=Object(rt["k"])(""),u=Object(rt["a"])((function(){return t.state.toask})),i=Object(rt["a"])((function(){return t.state.usuario})),s=Object(rt["a"])((function(){return t.state.productosVenta})),d=Object(rt["a"])((function(){return t.state.statusVenta})),b=Object(rt["k"])(""),O=Object(rt["k"])(!1),j=Object(rt["a"])((function(){var t=r.value,e=t.precio*t.iva/100*o.value,c=t.precio*o.value;return c||(c=0),e||(e=0),c+e})),p=Object(rt["a"])((function(){return t.state.dataCliente})),h=Object(rt["a"])((function(){return t.state.datosCliente})),f=Object(rt["a"])((function(){return s.value.reduce((function(t,e){return t+e.cantidad*e.precio}),0)})),v=Object(rt["a"])((function(){return s.value.reduce((function(t,e){return t+e.cantidad*e.precio*e.iva/100}),0)})),m=Object(rt["a"])((function(){return t.state.productosTrue})),g=Object(rt["a"])((function(){return t.state.clientesActivos}));function k(){t.dispatch("vaciarVenta"),b.value="",O.value=!1,a.value=!1,E()}function C(e){l.value="",t.dispatch("guardarCliente",e)}var y=function(){var e={ruta:"/ventas/add"};t.dispatch("sendUrl",e)};function w(){if(0==s.value.length)return Object(ft["a"])("no se puede hacer una venta vacia",u.value.warning);a.value=!0}function V(t){n.value="",r.value=t}function _(){o.value>r.value.cantidad&&(o.value=r.value.cantidad)}function x(){var e={productName:r.value.nombre,modelo:r.value.modelo,marca:r.value.marca,precio:r.value.precio,codigo:r.value.codigo,imei:[{value:null}],cantidad:o.value,iva:r.value.iva,producto_id:r.value._id};t.dispatch("agregarToCarrito",e)}function E(){t.dispatch("deleteProccessVenta"),r.value={},o.value=1}function P(){t.dispatch("generarPdf")}function A(){t.dispatch("comprar",{nota:b.value,prestamo:O.value})}return{usuario:i,infoCliente:e,newVenta:k,generarPdf:P,statusVenta:d,dolar:c,prestamo:O,modalVenta:a,notaVenta:b,preGuardarCompra:w,guardarCompra:A,iva:v,totalVenta:f,cancelVenta:E,agregarCarrito:x,productosVenta:s,verifyStock:_,total:j,cantidad:o,inputsAgregar:r,selectProducto:V,buscarProducto:n,sendUrl:y,selectCliente:C,productos:m,buscarClientes:l,clientes:g,dataCliente:p,datosCliente:h}}};c("36a3");vt.render=ct;e["default"]=vt},"36a3":function(t,e,c){"use strict";c("784f")},"784f":function(t,e,c){},d97a:function(t,e,c){"use strict";c.r(e);var a=c("7a23"),n={style:{height:"70vh"},id:"layoutError"},r={id:"layoutError_content"},o={class:"container"},l={class:"row mt-5 justify-content-center"},u={class:"col-lg-6"},i={class:"text-center mt-4"},s=Object(a["h"])("h1",{class:"display-1"},"403",-1),d=Object(a["h"])("p",{class:"lead"},"sin autorizacion",-1),b=Object(a["h"])("p",null,"su acceso a esta area no esta permitido.",-1),O=Object(a["h"])("i",{class:"fas fa-arrow-left me-1"},null,-1),j=Object(a["g"])(" regresar al inicio ");function p(t,e,c,p,h,f){var v=Object(a["B"])("router-link");return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["h"])("div",n,[Object(a["h"])("div",r,[Object(a["h"])("main",null,[Object(a["h"])("div",o,[Object(a["h"])("div",l,[Object(a["h"])("div",u,[Object(a["h"])("div",i,[s,d,b,Object(a["h"])(v,{to:"/"},{default:Object(a["N"])((function(){return[O,j]})),_:1})])])])])])])]),Object(a["h"])("button",{onClick:e[1]||(e[1]=function(){return p.alert&&p.alert.apply(p,arguments)})})],64)}var h={setup:function(){function t(){for(var t=4e4,e=0;e<t;e++)console.log("hola")}return{alert:t}}};h.render=p;e["default"]=h}}]);
//# sourceMappingURL=chunk-351eed9d.1e4cae90.js.map